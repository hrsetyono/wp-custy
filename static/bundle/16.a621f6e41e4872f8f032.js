(window.blocksyJsonP=window.blocksyJsonP||[]).push([[16],{47:function(t,e,a){"use strict";a.r(e),a.d(e,"mount",(function(){return i}));var n=a(3),r=a.n(n);function o(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(t){if(r.a){var e=t.closest("form"),a=e.find(".button"),n=e.attr("action"),c=e.attr("method");void 0!==c&&""!=c||(c="POST");var i=new FormData(e[0]);i.append(a.attr("name"),a.val());var d=o(i.entries()).reduce((function(t,e){return t+(e[0].indexOf("quantity")>-1?parseInt(e[1],10):0)}),0);0!==d&&(e.closest(".quick-view-modal").length&&(e.closest(".quick-view-modal").find(".ct-quick-add").removeClass("added"),e.closest(".quick-view-modal").find(".ct-quick-add").addClass("loading")),a.removeClass("added"),a.addClass("loading"),r()(document.body).trigger("adding_to_cart",[a,{}]),r.a.ajax({url:n,method:c,data:i,cache:!1,contentType:!1,processData:!1}).done((function(t,n,o){r()(document.body).trigger("wc_fragment_refresh"),r.a.ajax({url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_refreshed_fragments"),type:"POST",success:function(t){t&&t.fragments&&(r.a.each(t.fragments,(function(t,e){r()(t).replaceWith(e)})),r()(document.body).trigger("wc_fragments_refreshed")),e.closest(".quick-view-modal").length&&(e.closest(".quick-view-modal").find(".ct-quick-add").addClass("added"),e.closest(".quick-view-modal").find(".ct-quick-add").removeClass("loading")),r()(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash,a,d])}})})).fail((function(){a.removeClass("loading")})).always((function(t,e,a){})))}}var i=function(){return function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],r.a&&(r()(".cart").toArray().map((function(t){t.closest(".product-type-external")||t.hasAddToCartListener||(t.hasAddToCartListener=!0,r()(t).on("submit",(function(t){t.preventDefault(),c(r()(this))})))})),r()(".quick-view-modal .ct-quick-add").toArray().map((function(t){t.hasAddToCartListener||(t.hasAddToCartListener=!0,r()(t).on("click",(function(e){e.preventDefault(),t.closest(".product-type-external")?t.closest(".product-type-external").querySelector(".cart").submit():c(r()(this).closest(".quick-view-modal").find(".cart"))})))})))}()}}}]);